import { ListView } from "std-widgets.slint";
import { Theme } from "theme.slint";

export struct TableRow {
    filename: string,
    platform: image,
    status: string,
}

export component TableRowView inherits Window {
    in property <bool> even;
    in property <image> platform;
    in property <string> filename;
    in property <string> status;

    VerticalLayout {
        ta := TouchArea {

            row := Rectangle {
                background: even ? Theme.table.even-background : Theme.table.odd-background;
                height: 35px;

                GridLayout {
                    padding-left: Theme.table.text-padding;

                    Text {
                        color: even ? Theme.table.even-text : Theme.table.odd-text;
                        font-family: Theme.table.font;
                        font-size: Theme.table.font-size;
                        height: Theme.table_header.height - 5px;
                        overflow: elide;
                        text: root.filename;
                        vertical-alignment: center;
                        width: 45%;
                    }

                    Image {
                        horizontal-alignment: left;
                        source: root.platform;
                        width: 35%;
                    }

                    Text {
                        color: green;
                        font-family: Theme.table.font;
                        font-size: Theme.table.font-size;
                        height: Theme.table_header.height - 5px;
                        text: root.status;
                        vertical-alignment: center;
                        width: 20%;
                    }
                }
            }
        }
    }

    states [
        active-hover when ta.has-hover: {
            row.background: Theme.table.odd-background;
        }
    ]
}
